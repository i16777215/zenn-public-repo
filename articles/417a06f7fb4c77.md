---
title: "Fortran & Python ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å‘ã‘ãŸ ubunutu ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«é–¢ã™ã‚‹ã¾ã¨ã‚"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Fortran", "Python", "ubuntu"]
published: false
---

Ubuntu 22.04.3 LTS (Jammy Jellyfish)ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼Ubuntu ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¤ã„ã¦ã¯è§¦ã‚Œã¾ã›ã‚“ï¼


# APT ã§åˆæœŸè¨­å®š
```
# for ssh
sudo apt update
sudo apt -y install openssh-server

# dev. tool
sudo apt -y install git
sudo apt -y install curl
sudo apt -y install vim
sudo apt -y install tmux 

# for compile
sudo apt -y install gcc
sudo apt -y install gfortran

# for vis.
sudo apt -y install gnuplot 

# for others
sudo apt -y install cmake
```

å¿…è¦ã«å¿œã˜ã¦ä»–ã«ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä¸‹ã•ã„ï¼


# Fortran (ifort) ã«ã¤ã„ã¦

intel oneapi ã®ä¸‹è¨˜äºŒã¤ã‚’ APT ã‚’ä½¿ã£ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹
- Base Toolkit 
- HPC Toolkit

Base Toolkit ã®è©³ç´°ã¯æ¬¡ï¼

[Download the IntelÂ®  oneAPI Base Toolkit](https://www.intel.com/content/www/us/en/developer/tools/oneapi/base-toolkit-download.html?operatingsystem=linux&distributions=aptpackagemanager)

- distribution: linux 
- option: APT Package Manager

ã‚’é¸æŠã™ã‚‹ã¨ï¼Œä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰&ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä¸‹ã•ã„ã¨æŒ‡ç¤ºã•ã‚Œã‚‹(2024/04/01)

```
sudo apt install -y gpg-agent wget
wget -O- https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB | gpg --dearmor | sudo tee /usr/share/keyrings/oneapi-archive-keyring.gpg > /dev/null
echo "deb [signed-by=/usr/share/keyrings/oneapi-archive-keyring.gpg] https://apt.repos.intel.com/oneapi all main" | sudo tee /etc/apt/sources.list.d/oneAPI.list
sudo apt update
sudo apt install intel-basekit
sudo apt install intel-hpckit
```

## ifort ã®ãƒ‘ã‚¹ã‚’é€šã™
ç„¡äº‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ã§ã§ããŸã‚‰ï¼Œãƒ‘ã‚¹ã‚’é€šã—ã¦ã¿ã‚‹ï¼
ãƒ‘ã‚¹ã‚’é€šã™ã«ã¯

`source /opt/intel/oneapi/setvars.sh`

ãƒ‘ã‚¹ãŒé€šã£ãŸã‹ç¢ºèªã™ã‚‹ã«ã¯ï¼Œ
`ifort -V`
ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒç¢ºèªã•ã‚Œã‚Œã°OKï¼

```
$ ifort -V
Intel(R) Fortran Intel(R) 64 Compiler Classic for applications running on Intel(R) 64, Version 2021.11.0 Build 20231010_000000
Copyright (C) 1985-2023 Intel Corporation.  All rights reserved.
```

æ¯å›æ‰“ã¡è¾¼ã‚€ã®ã¯é¢å€’ãªã®ã§ï¼Œ`.bashrc` ã«æ¬¡ã®ã‚ˆã†ã«æ›¸ã„ã¦ãŠãã¨ï¼Œè‡ªå‹•çš„ã«ãƒ‘ã‚¹ã‚’é€šã—ã¦ãã‚Œã‚‹ï¼

`source /opt/intel/oneapi/setvars.sh > /dev/null`

# Python ã«ã¤ã„ã¦

miniconda ã‚’åˆ©ç”¨ã—ã¦ Python ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ï¼

- `cd <workspace>`
  - ã©ã“ã§ã‚‚ã„ã„ã§ã™
- `wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh`
- `source Miniconda3-latest-Linux-x86_64.sh`
- `source ~/.bashrc`
  - å†åº¦èª­ã¿è¾¼ã¿è¨­å®šã‚’ä¸Šæ›¸ãã—ã¾ã™
  - æœ€ä½é™ï¼Œã“ã“ã¾ã§å¿…è¦ã§ã™ï¼
- `conda deactivate`
- `conda config --set auto_activate_base false`
  - è‡ªå‹•çš„ã« (base) ã¨ãªã‚‹ã®ã‚’ã‚ªãƒ•ã«ã—ã¾ã™

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããŸã‹ç¢ºèªã—ã¾ã™ï¼

```code:terminal
  $ conda --version
  conda 23.11.0
```

miniconda ãŒå…¥ã£ãŸã®ã§ï¼ŒPython ã®ç’°å¢ƒã‚’ä½œã‚Šã¾ã™ï¼
- `conda create -n devpy310 python=3.10 -c conda-forge`
- `conda activate devpy310`
- `conda install numpy`
- `conda install matplotlib`

## conda-forge ã«ã¤ã„ã¦

å•†æ¥­åˆ©ç”¨ã®å ´åˆï¼Œconda-forge ã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ï¼
è©³ã—ãã¯ä¸‹è¨˜ãƒªãƒ³ã‚¯ï¼
[Anaconda ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªãƒã‚¸ãƒˆãƒªãŒã€Œå¤§è¦æ¨¡ãªã€å•†ç”¨åˆ©ç”¨ã§ã¯æœ‰å„Ÿã«ãªã£ã¦ã„ãŸ https://qiita.com/tfukumori/items/f8fc2c53077b234384fc]

ãã®ãŸã‚

`conda create --n <ä»®æƒ³ç’°å¢ƒå> python=3.10 -c conda-forge`

ã¨ã„ã£ãŸã‚³ãƒãƒ³ãƒ‰ã§ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆã—ã¾ã™ï¼

Python ã‚’ä½¿ã„ãŸããªã£ãŸã‚‰ï¼Œ
- `conda activate devpy310`
- `python main.py`
ã¨ã‹ã§ä½¿ãˆã‚‹ã¯ãšã§ã™ï¼


